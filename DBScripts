USE [MTDS]
GO
/****** Object:  Table [dbo].[Asset]    Script Date: 2018/5/21 22:43:13 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Asset](
	[AssetID] [uniqueidentifier] NOT NULL,
	[SystemCategoryID] [uniqueidentifier] NOT NULL,
	[CartegoryId] [uniqueidentifier] NULL,
	[AssetName] [nvarchar](150) NULL,
	[CreateTime] [datetime] NULL,
	[CreateBy] [nvarchar](150) NULL,
	[ModifyTime] [datetime] NULL,
	[ModifyBy] [nvarchar](150) NULL,
 CONSTRAINT [PK_Asset] PRIMARY KEY CLUSTERED 
(
	[AssetID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[AssetColumn]    Script Date: 2018/5/21 22:43:13 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[AssetColumn](
	[ColumnID] [uniqueidentifier] NOT NULL,
	[SystemCategoryID] [uniqueidentifier] NULL,
	[CategoryID] [uniqueidentifier] NULL,
	[AssetID] [uniqueidentifier] NULL,
	[SubAssetID] [uniqueidentifier] NULL,
	[ColumnName] [nvarchar](250) NULL,
	[CreateTime] [datetime] NULL,
	[CreateBy] [nvarchar](150) NULL,
	[ModifyTime] [datetime] NULL,
	[ModifyBy] [nvarchar](150) NULL,
 CONSTRAINT [PK_AssetColumn] PRIMARY KEY CLUSTERED 
(
	[ColumnID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[AssetProperty]    Script Date: 2018/5/21 22:43:13 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[AssetProperty](
	[PropertyID] [uniqueidentifier] NULL,
	[PropertyValue] [nvarchar](250) NULL,
	[ColumnID] [uniqueidentifier] NULL,
	[CreateTime] [datetime] NULL,
	[CreateBy] [nvarchar](150) NULL,
	[ModifyTime] [datetime] NULL,
	[ModifyBy] [nvarchar](150) NULL
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[BillColumns]    Script Date: 2018/5/21 22:43:13 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[BillColumns](
	[BillType] [int] NOT NULL,
	[BillColumnName] [nvarchar](150) NULL,
	[BillColumnID] [nvarchar](150) NULL,
	[CreateTime] [datetime] NULL,
	[CreateBy] [nvarchar](150) NULL,
	[ModifyTime] [datetime] NULL,
	[ModifyBy] [nvarchar](150) NULL,
 CONSTRAINT [PK_BillColumns] PRIMARY KEY CLUSTERED 
(
	[BillType] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[BillComments]    Script Date: 2018/5/21 22:43:13 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[BillComments](
	[BillType] [int] NOT NULL,
	[BillID] [uniqueidentifier] NULL,
	[BillColumnID] [nvarchar](150) NULL,
	[BillColumnValue] [nvarchar](500) NULL,
	[CreateTime] [datetime] NULL,
	[CreateBy] [nvarchar](50) NULL,
	[ModifyTime] [datetime] NULL,
	[ModifyBy] [nvarchar](150) NULL,
 CONSTRAINT [PK_BillComments] PRIMARY KEY CLUSTERED 
(
	[BillType] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[BillTypes]    Script Date: 2018/5/21 22:43:13 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[BillTypes](
	[BillType] [int] NOT NULL,
	[BillTypeName] [nvarchar](150) NULL,
	[CreateTime] [datetime] NULL,
	[CreateBy] [nvarchar](150) NULL,
	[ModifyTime] [datetime] NULL,
	[ModifyBy] [nvarchar](50) NULL,
 CONSTRAINT [PK_BillTypes] PRIMARY KEY CLUSTERED 
(
	[BillType] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Category]    Script Date: 2018/5/21 22:43:13 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Category](
	[CategoryId] [uniqueidentifier] NOT NULL,
	[CategoryName] [nvarchar](150) NULL,
	[SystemCategoryID] [uniqueidentifier] NULL,
	[CreateTime] [datetime] NULL,
	[CreateBy] [nvarchar](150) NULL,
	[ModifyTime] [datetime] NULL,
	[ModifyBy] [nvarchar](150) NULL,
 CONSTRAINT [PK_Category] PRIMARY KEY CLUSTERED 
(
	[CategoryId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Modules]    Script Date: 2018/5/21 22:43:13 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Modules](
	[ModuleID] [uniqueidentifier] NOT NULL,
	[ModuleName] [nvarchar](150) NULL,
	[CreateTime] [datetime] NULL,
	[CreateBy] [nvarchar](150) NULL,
	[ModifyTime] [datetime] NULL,
	[ModifyBy] [nvarchar](150) NULL,
 CONSTRAINT [PK_Modules] PRIMARY KEY CLUSTERED 
(
	[ModuleID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Role]    Script Date: 2018/5/21 22:43:13 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Role](
	[RoleID] [uniqueidentifier] NOT NULL,
	[RoleName] [nvarchar](250) NULL,
	[CreateTime] [datetime] NULL,
	[CreateBy] [nvarchar](150) NULL,
	[ModifyTime] [datetime] NULL,
	[ModifyBy] [nvarchar](150) NULL,
 CONSTRAINT [PK_Role] PRIMARY KEY CLUSTERED 
(
	[RoleID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[RoleRights]    Script Date: 2018/5/21 22:43:13 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[RoleRights](
	[RoleId] [uniqueidentifier] NOT NULL,
	[ModuleID] [uniqueidentifier] NULL,
	[CreateTime] [datetime] NULL,
	[CreateBy] [nvarchar](150) NULL,
	[ModifyTime] [datetime] NULL,
	[ModifyBy] [nvarchar](150) NULL,
 CONSTRAINT [PK_RoleRights] PRIMARY KEY CLUSTERED 
(
	[RoleId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[SubAsset]    Script Date: 2018/5/21 22:43:13 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[SubAsset](
	[SubAssetID] [uniqueidentifier] NOT NULL,
	[SystemCategoryID] [uniqueidentifier] NULL,
	[CategroyID] [uniqueidentifier] NULL,
	[AssetID] [uniqueidentifier] NULL,
	[SubAssetName] [nvarchar](250) NULL,
	[CreateTime] [datetime] NULL,
	[CreateBy] [nvarchar](150) NULL,
	[ModifyTime] [datetime] NULL,
	[ModifyBy] [nvarchar](150) NULL,
 CONSTRAINT [PK_SubAsset] PRIMARY KEY CLUSTERED 
(
	[SubAssetID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[SystemCategory]    Script Date: 2018/5/21 22:43:13 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[SystemCategory](
	[SystemCategoryID] [uniqueidentifier] NOT NULL,
	[SystemCategoryName] [nvarchar](150) NULL,
	[CreateTime] [datetime] NULL,
	[CreateBy] [nvarchar](150) NULL,
	[ModifyTime] [datetime] NULL,
	[ModifyBy] [nvarchar](150) NULL,
 CONSTRAINT [PK_SystemCategory] PRIMARY KEY CLUSTERED 
(
	[SystemCategoryID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[SystemLogs]    Script Date: 2018/5/21 22:43:13 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[SystemLogs](
	[Id] [uniqueidentifier] NULL,
	[IpAddress] [nvarchar](50) NULL,
	[EventType] [int] NULL,
	[EventMessage] [nvarchar](max) NULL,
	[CreateTime] [datetime] NULL,
	[CreateBy] [nvarchar](50) NULL
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO
/****** Object:  Table [dbo].[UserProfile]    Script Date: 2018/5/21 22:43:13 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[UserProfile](
	[UserId] [int] IDENTITY(1,1) NOT NULL,
	[UserName] [nvarchar](56) NOT NULL,
PRIMARY KEY CLUSTERED 
(
	[UserId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY],
UNIQUE NONCLUSTERED 
(
	[UserName] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[UserRoles]    Script Date: 2018/5/21 22:43:13 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[UserRoles](
	[UserID] [uniqueidentifier] NOT NULL,
	[RoleID] [uniqueidentifier] NOT NULL,
	[CreateTime] [datetime] NULL,
	[CreateBy] [nvarchar](150) NULL,
	[ModifyTime] [datetime] NULL,
	[ModifyBy] [nvarchar](150) NULL,
 CONSTRAINT [PK_UserRoles] PRIMARY KEY CLUSTERED 
(
	[UserID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Users]    Script Date: 2018/5/21 22:43:13 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Users](
	[UserID] [uniqueidentifier] NOT NULL,
	[loginName] [nvarchar](150) NULL,
	[username] [nvarchar](150) NULL,
	[password] [nvarchar](150) NULL,
	[email] [nvarchar](150) NULL,
	[mobile] [nvarchar](150) NULL,
	[telephone] [nvarchar](150) NULL,
	[provinceID] [int] NULL,
	[AreaID] [int] NULL,
	[CountyID] [int] NULL,
	[address] [nvarchar](150) NULL,
	[remark] [nvarchar](max) NULL,
	[lastlogintime] [datetime] NULL,
	[ParentID] [uniqueidentifier] NULL,
	[CreateTime] [datetime] NULL,
	[CreateBy] [nvarchar](150) NULL,
	[ModifyTime] [datetime] NULL,
	[ModifyBy] [nvarchar](150) NULL,
 CONSTRAINT [PK_User] PRIMARY KEY CLUSTERED 
(
	[UserID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO
/****** Object:  Table [dbo].[webpages_Membership]    Script Date: 2018/5/21 22:43:13 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[webpages_Membership](
	[UserId] [int] NOT NULL,
	[CreateDate] [datetime] NULL,
	[ConfirmationToken] [nvarchar](128) NULL,
	[IsConfirmed] [bit] NULL,
	[LastPasswordFailureDate] [datetime] NULL,
	[PasswordFailuresSinceLastSuccess] [int] NOT NULL,
	[Password] [nvarchar](128) NOT NULL,
	[PasswordChangedDate] [datetime] NULL,
	[PasswordSalt] [nvarchar](128) NOT NULL,
	[PasswordVerificationToken] [nvarchar](128) NULL,
	[PasswordVerificationTokenExpirationDate] [datetime] NULL,
PRIMARY KEY CLUSTERED 
(
	[UserId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[webpages_OAuthMembership]    Script Date: 2018/5/21 22:43:13 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[webpages_OAuthMembership](
	[Provider] [nvarchar](30) NOT NULL,
	[ProviderUserId] [nvarchar](100) NOT NULL,
	[UserId] [int] NOT NULL,
PRIMARY KEY CLUSTERED 
(
	[Provider] ASC,
	[ProviderUserId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[webpages_Roles]    Script Date: 2018/5/21 22:43:13 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[webpages_Roles](
	[RoleId] [int] IDENTITY(1,1) NOT NULL,
	[RoleName] [nvarchar](256) NOT NULL,
PRIMARY KEY CLUSTERED 
(
	[RoleId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY],
UNIQUE NONCLUSTERED 
(
	[RoleName] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[webpages_UsersInRoles]    Script Date: 2018/5/21 22:43:13 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[webpages_UsersInRoles](
	[UserId] [int] NOT NULL,
	[RoleId] [int] NOT NULL,
PRIMARY KEY CLUSTERED 
(
	[UserId] ASC,
	[RoleId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
ALTER TABLE [dbo].[webpages_Membership] ADD  DEFAULT ((0)) FOR [IsConfirmed]
GO
ALTER TABLE [dbo].[webpages_Membership] ADD  DEFAULT ((0)) FOR [PasswordFailuresSinceLastSuccess]
GO
ALTER TABLE [dbo].[webpages_UsersInRoles]  WITH CHECK ADD  CONSTRAINT [fk_RoleId] FOREIGN KEY([RoleId])
REFERENCES [dbo].[webpages_Roles] ([RoleId])
GO
ALTER TABLE [dbo].[webpages_UsersInRoles] CHECK CONSTRAINT [fk_RoleId]
GO
ALTER TABLE [dbo].[webpages_UsersInRoles]  WITH CHECK ADD  CONSTRAINT [fk_UserId] FOREIGN KEY([UserId])
REFERENCES [dbo].[UserProfile] ([UserId])
GO
ALTER TABLE [dbo].[webpages_UsersInRoles] CHECK CONSTRAINT [fk_UserId]
GO
